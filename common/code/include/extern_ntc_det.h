#ifndef __NTC_DET_H__
#define __NTC_DET_H__

#include "typedef.h"

#define NTC_100K_RES_NEG_15 	7143L
#define NTC_100K_RES_NEG_14     6779L
#define NTC_100K_RES_NEG_13     6440L
#define NTC_100K_RES_NEG_12     6121L
#define NTC_100K_RES_NEG_11     5818L
#define NTC_100K_RES_NEG_10     5529L
#define NTC_100K_RES_NEG_09     5251L
#define NTC_100K_RES_NEG_08     4984L
#define NTC_100K_RES_NEG_07     4725L
#define NTC_100K_RES_NEG_06     4475L
#define NTC_100K_RES_NEG_05     4233L
#define NTC_100K_RES_NEG_04     4000L
#define NTC_100K_RES_NEG_03     3789L
#define NTC_100K_RES_NEG_02     3596L
#define NTC_100K_RES_NEG_01     3417L
#define NTC_100K_RES_POS_00     3251L
#define NTC_100K_RES_POS_01     3096L
#define NTC_100K_RES_POS_02     2950L
#define NTC_100K_RES_POS_03     2812L
#define NTC_100K_RES_POS_04     2681L
#define NTC_100K_RES_POS_05     2557L
#define NTC_100K_RES_POS_06     2438L
#define NTC_100K_RES_POS_07     2325L
#define NTC_100K_RES_POS_08     2217L
#define NTC_100K_RES_POS_09     2113L
#define NTC_100K_RES_POS_10     2014L
#define NTC_100K_RES_POS_11     1916L
#define NTC_100K_RES_POS_12     1826L
#define NTC_100K_RES_POS_13     1743L
#define NTC_100K_RES_POS_14     1666L
#define NTC_100K_RES_POS_15     1592L
#define NTC_100K_RES_POS_16     1522L
#define NTC_100K_RES_POS_17     1454L
#define NTC_100K_RES_POS_18     1389L
#define NTC_100K_RES_POS_19     1326L
#define NTC_100K_RES_POS_20     1265L
#define NTC_100K_RES_POS_21     1206L
#define NTC_100K_RES_POS_22     1151L
#define NTC_100K_RES_POS_23     1097L
#define NTC_100K_RES_POS_24     1047L
#define NTC_100K_RES_POS_25     1000L
#define NTC_100K_RES_POS_26      956L
#define NTC_100K_RES_POS_27      916L
#define NTC_100K_RES_POS_28      880L
#define NTC_100K_RES_POS_29      848L
#define NTC_100K_RES_POS_30      819L
#define NTC_100K_RES_POS_31      787L
#define NTC_100K_RES_POS_32      756L
#define NTC_100K_RES_POS_33      725L
#define NTC_100K_RES_POS_34      695L
#define NTC_100K_RES_POS_35      665L
#define NTC_100K_RES_POS_36      637L
#define NTC_100K_RES_POS_37      609L
#define NTC_100K_RES_POS_38      582L
#define NTC_100K_RES_POS_39      557L
#define NTC_100K_RES_POS_40      533L
#define NTC_100K_RES_POS_41      510L
#define NTC_100K_RES_POS_42      489L
#define NTC_100K_RES_POS_43      470L
#define NTC_100K_RES_POS_44      452L
#define NTC_100K_RES_POS_45      437L
#define NTC_100K_RES_POS_46      419L
#define NTC_100K_RES_POS_47      403L
#define NTC_100K_RES_POS_48      387L
#define NTC_100K_RES_POS_49      373L
#define NTC_100K_RES_POS_50      359L
#define NTC_100K_RES_POS_51      346L
#define NTC_100K_RES_POS_52      333L
#define NTC_100K_RES_POS_53      321L
#define NTC_100K_RES_POS_54      309L
#define NTC_100K_RES_POS_55      298L
#define NTC_100K_RES_POS_56      287L
#define NTC_100K_RES_POS_57      276L
#define NTC_100K_RES_POS_58      266L
#define NTC_100K_RES_POS_59      256L
#define NTC_100K_RES_POS_60      246L
#define NTC_100K_RES_POS_61      237L
#define NTC_100K_RES_POS_62      229L
#define NTC_100K_RES_POS_63      220L
#define NTC_100K_RES_POS_64      212L
#define NTC_100K_RES_POS_65      205L
#define NTC_100K_RES_POS_66      197L
#define NTC_100K_RES_POS_67      190L
#define NTC_100K_RES_POS_68      183L
#define NTC_100K_RES_POS_69      177L
#define NTC_100K_RES_POS_70      171L


#define NTC_10K_RES_NEG_15		734L
#define NTC_10K_RES_NEG_14		694L
#define NTC_10K_RES_NEG_13		656L
#define NTC_10K_RES_NEG_12		620L
#define NTC_10K_RES_NEG_11		587L
#define NTC_10K_RES_NEG_10		556L
#define NTC_10K_RES_NEG_09		526L	
#define NTC_10K_RES_NEG_08		499L
#define NTC_10K_RES_NEG_07		473L
#define NTC_10K_RES_NEG_06		448L
#define NTC_10K_RES_NEG_05		425L
#define NTC_10K_RES_NEG_04		403L
#define NTC_10K_RES_NEG_03		383L
#define NTC_10K_RES_NEG_02		363L
#define NTC_10K_RES_NEG_01		345L
#define NTC_10K_RES_POS_00		328L
#define NTC_10K_RES_POS_01		311L
#define NTC_10K_RES_POS_02		296L
#define NTC_10K_RES_POS_03		281L
#define NTC_10K_RES_POS_04		268L
#define NTC_10K_RES_POS_05		255L
#define NTC_10K_RES_POS_06		242L
#define NTC_10K_RES_POS_07		231L	
#define NTC_10K_RES_POS_08		220L	
#define NTC_10K_RES_POS_09		209L
#define NTC_10K_RES_POS_10		199L	
#define NTC_10K_RES_POS_11		190L
#define NTC_10K_RES_POS_12		181L
#define NTC_10K_RES_POS_13		173L
#define NTC_10K_RES_POS_14		165L
#define NTC_10K_RES_POS_15		157L
#define NTC_10K_RES_POS_16		150L
#define NTC_10K_RES_POS_17		143L
#define NTC_10K_RES_POS_18		137L
#define NTC_10K_RES_POS_19		131L
#define NTC_10K_RES_POS_20		125L
#define NTC_10K_RES_POS_21		119L
#define NTC_10K_RES_POS_22		114L
#define NTC_10K_RES_POS_23		109L
#define NTC_10K_RES_POS_24		104L	
#define NTC_10K_RES_POS_25		100L
#define NTC_10K_RES_POS_26		 96L
#define NTC_10K_RES_POS_27		 92L
#define NTC_10K_RES_POS_28		 88L
#define NTC_10K_RES_POS_29		 84L
#define NTC_10K_RES_POS_30		 81L
#define NTC_10K_RES_POS_31		 77L
#define NTC_10K_RES_POS_32		 74L
#define NTC_10K_RES_POS_33		 71L
#define NTC_10K_RES_POS_34		 68L
#define NTC_10K_RES_POS_35		 65L
#define NTC_10K_RES_POS_36		 63L
#define NTC_10K_RES_POS_37		 60L
#define NTC_10K_RES_POS_38		 58L
#define NTC_10K_RES_POS_39		 55L
#define NTC_10K_RES_POS_40		 53L
#define NTC_10K_RES_POS_41		 51L
#define NTC_10K_RES_POS_42		 49L
#define NTC_10K_RES_POS_43		 47L
#define NTC_10K_RES_POS_44		 45L	
#define NTC_10K_RES_POS_45		 44L
#define NTC_10K_RES_POS_46		 42L
#define NTC_10K_RES_POS_47		 40L
#define NTC_10K_RES_POS_48		 39L
#define NTC_10K_RES_POS_49		 37L
#define NTC_10K_RES_POS_50		 36L
#define NTC_10K_RES_POS_51		 35L
#define NTC_10K_RES_POS_52		 33L
#define NTC_10K_RES_POS_53		 32L
#define NTC_10K_RES_POS_54		 31L
#define NTC_10K_RES_POS_55		 30L
#define NTC_10K_RES_POS_56		 29L
#define NTC_10K_RES_POS_57		 28L
#define NTC_10K_RES_POS_58		 27L
#define NTC_10K_RES_POS_59		 26L
#define NTC_10K_RES_POS_60		 25L
#define NTC_10K_RES_POS_61		 24L
#define NTC_10K_RES_POS_62		 23L
#define NTC_10K_RES_POS_63		 22L
#define NTC_10K_RES_POS_64		 21L
#define NTC_10K_RES_POS_65		 20L
#define NTC_10K_RES_POS_66		 20L
#define NTC_10K_RES_POS_67		 19L
#define NTC_10K_RES_POS_68		 19L
#define NTC_10K_RES_POS_69		 18L
#define NTC_10K_RES_POS_70		 17L
								 
#define NTC_STATUS_CHARGE_GOOD  0 //正常充电
#define NTC_STATUS_CHARGE_STOP  1 //停止充电
#define NTC_STATUS_CHARGE_CURR  2 //电流减半
#define NTC_STATUS_CHARGE_VOLT  3 //电压降低

#define NTC_STATUS_DISCHARGE_GOOD   0 //正常放电
#define NTC_STATUS_DISCHARGE_STOP   1 //停止放电

typedef union {
    u8 byte;
    struct {
        u8 charge : 2;
        u8 discharge : 1;
        //注意设置滤波次数不超过3
        u8 charge_cnt : 2;
        u8 discharge_cnt : 2;
    } u;
} __ntc;

extern __ntc data ntc;

void ntc_det_run(void);
void ntc_init(void);

#endif


